!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("4Nugj"),a("cdAE4");var i=a("6JpON"),c=a("7VSht"),o=document.querySelector(".watchedJS"),d=document.querySelector(".queueJS"),s=document.querySelector(".main-section__allcards"),l="watched",u="queue";function v(){o.classList.add("active"),d.classList.remove("active"),localStorage.getItem(l)?m(l):e(i).Notify.warning("No movies added!")}function f(){d.classList.add("active"),o.classList.remove("active"),localStorage.getItem(u)?m(u):e(i).Notify.warning("No movies added!")}function m(t){var n=JSON.parse(localStorage.getItem(t));if(console.log(n),!n.length)return s.innerHTML="You have not added anything to this list yet.",void e(i).Notify.warning("No movies added!");var r=(0,c.renderSearchResult)(n);s.innerHTML=r.join(""),document.querySelectorAll(".main-section__card").forEach((function(e){"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",'<span class="rating-span">'.concat(Math.round(10*e.dataset.rating)/10,"</span>"))}))}m(l),o.classList.remove("inactive"),o.classList.add("active"),o.addEventListener("click",v),d.addEventListener("click",f);var g=a("cDXQO"),L=a("4Nugj"),E=(i=a("6JpON"),a("lEOFC")),h=L.refs.allCardsSection,y=L.refs.modal,w=L.refs.overflow,k=L.refs.closeBtn,p=L.refs.innerModal,S=L.refs.watchedBtn,q=L.refs.queueBtn,N=L.refs.cursor,T=L.refs.body,O=localStorage.getItem("queue"),_=localStorage.getItem("watched"),I=JSON.parse(O)||[],J=JSON.parse(_)||[],x=M("watched"),b=!1;function M(e){var t=localStorage.getItem(e);return JSON.parse(t)}function j(t){t.target.innerText="remove from watched";var n=x[t.target.dataset.id];J.push(n),localStorage.setItem("watched",JSON.stringify(J)),t.target.addEventListener("click",R),t.target.removeEventListener("click",j),b=!0,e(i).Notify.success("Added to watched!")}function R(t){t.target.innerText="add to watched";var n=x[t.target.dataset.id];J=J.filter((function(e){return e.id!==n.id})),localStorage.setItem("watched",JSON.stringify(J)),t.target.removeEventListener("click",R),t.target.addEventListener("click",j),b=!0,e(i).Notify.success("Removed from watched!")}function A(t){t.target.innerText="remove from queue";var n=x[t.target.dataset.id];I.push(n),localStorage.setItem("queue",JSON.stringify(I)),t.target.addEventListener("click",D),t.target.removeEventListener("click",A),b=!0,e(i).Notify.success("Added to queue!")}function D(t){t.target.innerText="add to queue";var n=x[t.target.dataset.id];I=I.filter((function(e){return e.id!==n.id})),localStorage.setItem("queue",JSON.stringify(I)),t.target.removeEventListener("click",D),t.target.addEventListener("click",A),b=!0,e(i).Notify.success("Removed from queue!")}function B(e){if(e.currentTarget!==e.target){y.classList.remove("hidden-modal"),w.classList.remove("hidden-modal"),h.removeEventListener("click",B),document.addEventListener("keydown",H),k.addEventListener("click",F),w.addEventListener("click",C),function(e){x=S.classList.contains("active")?M("watched"):M("queue");var t=(0,E.renderModal)(x,e,J,I);p.innerHTML=t[0],n=t[1],r=t[2],a=document.querySelector(".modal__btn-watched"),i=document.querySelector(".modal__btn-queue"),c=document.querySelector(".modal__btn-watch-trailer"),n?i.addEventListener("click",D):i.addEventListener("click",A),r?a.addEventListener("click",R):a.addEventListener("click",j),c.addEventListener("click",g.watchTrailer),[c,i,c,k].forEach((function(e){e.addEventListener("mouseover",(function(){N.classList.add("hover")})),e.addEventListener("mouseleave",(function(){N.classList.remove("hover")}))}));var n,r,a,i,c}("DIV"===e.target.nodeName?e.target.dataset.id:e.target.closest("div").dataset.id);var t=window.scrollY;T.style.position="fixed",T.style.top="-".concat(t,"px")}}function C(e){e.currentTarget===e.target&&F()}function H(e){"Escape"===e.code&&F()}function F(){y.classList.add("hidden-modal"),w.classList.add("hidden-modal"),h.addEventListener("click",B),document.removeEventListener("keydown",F),k.removeEventListener("click",F),w.removeEventListener("click",C),q.classList.contains("active")&&b?f():b&&v(),b=!1;var e=T.style.top;T.style.position="",T.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}S.addEventListener("click",(function(){x=M("watched")})),q.addEventListener("click",(function(){x=M("queue")})),h.addEventListener("click",B),a("jjs5m"),a("c1cRw");var U=document.querySelector(".footer-closeModalBtn-js"),V=document.querySelector(".footer-link-js"),Y=document.querySelector(".footer-backdrop");function Q(e){Y.classList.add("is-hidden"),document.removeEventListener("keydown",X)}function X(e){"Escape"===e.code&&Q()}U.addEventListener("click",Q),V.addEventListener("click",(function(e){e.preventDefault(),Y.classList.remove("is-hidden"),document.addEventListener("keydown",X)})),Y.addEventListener("click",(function(e){e.target===e.currentTarget&&Q()}))}();
//# sourceMappingURL=library.b867a9ef.js.map
