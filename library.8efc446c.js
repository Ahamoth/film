function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o("krGWQ"),o("b06V4");var c=o("7Y9D8"),r=o("5o68A");const i=document.querySelector(".watchedJS"),d=document.querySelector(".queueJS"),s=document.querySelector(".main-section__allcards");function l(){i.classList.add("active"),d.classList.remove("active"),localStorage.getItem("watched")?v("watched"):e(c).Notify.warning("No movies added!")}function u(){d.classList.add("active"),i.classList.remove("active"),localStorage.getItem("queue")?v("queue"):e(c).Notify.warning("No movies added!")}function v(t){let n=JSON.parse(localStorage.getItem(t));if(console.log(n),!n.length)return s.innerHTML="You have not added anything to this list yet.",void e(c).Notify.warning("No movies added!");const a=(0,r.renderSearchResult)(n);s.innerHTML=a.join("");document.querySelectorAll(".main-section__card").forEach((e=>{"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",`<span class="rating-span">${Math.round(10*e.dataset.rating)/10}</span>`)}))}v("watched"),i.classList.remove("inactive"),i.classList.add("active"),i.addEventListener("click",l),d.addEventListener("click",u);var m=o("37v9V"),f=o("krGWQ"),g=(c=o("7Y9D8"),o("99kNq"));const{allCardsSection:L,modal:h,overflow:E,closeBtn:k,innerModal:y,watchedBtn:w,queueBtn:S,cursor:p,body:q}=f.refs,N=localStorage.getItem("queue"),T=localStorage.getItem("watched");let _=JSON.parse(N)||[],I=JSON.parse(T)||[],b=O("watched"),x=!1;function O(e){const t=localStorage.getItem(e);return JSON.parse(t)}function J(t){t.target.innerText="remove from watched";const n=b[t.target.dataset.id];I.push(n),localStorage.setItem("watched",JSON.stringify(I)),t.target.addEventListener("click",M),t.target.removeEventListener("click",J),x=!0,e(c).Notify.success("Added to watched!")}function M(t){t.target.innerText="add to watched";const n=b[t.target.dataset.id];I=I.filter((e=>e.id!==n.id)),localStorage.setItem("watched",JSON.stringify(I)),t.target.removeEventListener("click",M),t.target.addEventListener("click",J),x=!0,e(c).Notify.success("Removed from watched!")}function D(t){t.target.innerText="remove from queue";const n=b[t.target.dataset.id];_.push(n),localStorage.setItem("queue",JSON.stringify(_)),t.target.addEventListener("click",A),t.target.removeEventListener("click",D),x=!0,e(c).Notify.success("Added to queue!")}function A(t){t.target.innerText="add to queue";const n=b[t.target.dataset.id];_=_.filter((e=>e.id!==n.id)),localStorage.setItem("queue",JSON.stringify(_)),t.target.removeEventListener("click",A),t.target.addEventListener("click",D),x=!0,e(c).Notify.success("Removed from queue!")}function B(e){if(e.currentTarget!==e.target){h.classList.remove("hidden-modal"),E.classList.remove("hidden-modal"),L.removeEventListener("click",B),document.addEventListener("keydown",j),k.addEventListener("click",H),E.addEventListener("click",R);!function(e){b=w.classList.contains("active")?O("watched"):O("queue");const t=(0,g.renderModal)(b,e,I,_);y.innerHTML=t[0],function(e,t){const n=document.querySelector(".modal__btn-watched"),a=document.querySelector(".modal__btn-queue"),o=document.querySelector(".modal__btn-watch-trailer");e?a.addEventListener("click",A):a.addEventListener("click",D),t?n.addEventListener("click",M):n.addEventListener("click",J),o.addEventListener("click",m.watchTrailer),[o,a,o,k].forEach((e=>{e.addEventListener("mouseover",(()=>{p.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{p.classList.remove("hover")}))}))}(t[1],t[2])}("DIV"===e.target.nodeName?e.target.dataset.id:e.target.closest("div").dataset.id);const t=window.scrollY;q.style.position="fixed",q.style.top=`-${t}px`}}function R(e){e.currentTarget===e.target&&H()}function j(e){"Escape"===e.code&&H()}function H(){h.classList.add("hidden-modal"),E.classList.add("hidden-modal"),L.addEventListener("click",B),document.removeEventListener("keydown",H),k.removeEventListener("click",H),E.removeEventListener("click",R),S.classList.contains("active")&&x?u():x&&l(),x=!1;const e=q.style.top;q.style.position="",q.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}w.addEventListener("click",(()=>{b=O("watched")})),S.addEventListener("click",(()=>{b=O("queue")})),L.addEventListener("click",B),o("kBf9a"),o("7tI6e");const Y=document.querySelector(".footer-closeModalBtn-js"),C=document.querySelector(".footer-link-js"),V=document.querySelector(".footer-backdrop");function G(e){V.classList.add("is-hidden"),document.removeEventListener("keydown",Q)}function Q(e){"Escape"===e.code&&G()}Y.addEventListener("click",G),C.addEventListener("click",(function(e){e.preventDefault(),V.classList.remove("is-hidden"),document.addEventListener("keydown",Q)})),V.addEventListener("click",(function(e){e.target===e.currentTarget&&G()}));
//# sourceMappingURL=library.8efc446c.js.map
